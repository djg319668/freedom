$(function(){$(".myaccount-father").hover(function(){$(".zhanghu").show()},function(){$(".zhanghu").hide()}),$(".h-center .content").hover(function(){$(".h-center .content .clear").show(),$(".h-center .content input").css("box-shadow","#02a3f0 0px 1px 0px 1px inset")},function(){$(".h-center .content .clear").hide(),$(".h-center .content input").css("box-shadow","none")}),$(".h-center .content .clear").click(function(){$(".content-son").val(""),$(".content-son").attr("placeholder",""),$(".content-son").focus()}),$(".content-son").blur(function(){$(".content-son").attr("placeholder","保湿")})}),window.onload=function(){var n=getid("usename"),o=getid("usename-right"),r=getid("usename-msg");isok1=!1,n.onfocus=function(){n.style.background="#eaf5ff",n.style.borderColor="#2648c4",r.innerHTML="用户名的长度应为6-20个字符之间",r.style.color="#666"},n.onblur=function(){var e=n.value;if(e.trim())if(checkReg.name(e)){ajax("post","../api/check_user.php",e,function(e){1==e&&(o.style.display="block",r.innerHTML="",isok1=!0)})}else n.style.background="#fffddf",n.style.borderColor="#800000",r.innerHTML="用户名被占用",r.style.color="#ff0000",o.style.display="none";else n.style.background="#fffddf",n.style.borderColor="#800000",r.innerHTML="用户名的长度应为6-20个字符之间",r.style.color="#ff0000",o.style.display="none"};var t=getid("password"),s=getid("password_right"),l=getid("password_msg");isok2=!1,t.onfocus=function(){t.style.background="#eaf5ff",t.style.borderColor="#2648c4",l.innerHTML="用户名的长度应为6-20个字符之间",l.style.color="#666"},t.onblur=function(){var e=t.value;e.trim()&&checkReg.psweasy(e)?(s.style.display="block",l.innerHTML="",isok2=!0):(t.style.background="#fffddf",t.style.borderColor="#800000",l.innerHTML="密码为6-16位首字母开头",l.style.color="#ff0000",s.style.display="none")};var c=getid("password2"),a=getid("password2_right"),f=getid("password2_msg");isok3=!1,c.onfocus=function(){c.style.background="#eaf5ff",c.style.borderColor="#2648c4",f.innerHTML="请再次输入密码",f.style.color="#666"},c.onblur=function(){var e=t.value,o=c.value;o.trim()?o==e?(a.style.display="block",f.innerHTML="",isok3=!0):(c.style.background="#eaf5ff",c.style.borderColor="#800000",f.innerHTML="密码不一致",f.style.color="#ff0000",a.style.display="none"):(c.style.background="#fffddf",c.style.borderColor="#800000",f.innerHTML="请再次输入密码",f.style.color="#ff0000",a.style.display="none")};var d=getid("email"),u=getid("email_right"),y=getid("email_msg");isok4=!1,d.onfocus=function(){d.style.background="#eaf5ff",d.style.borderColor="#2648c4",y.innerHTML="请输入您的邮箱地址",y.style.color="#666"},d.onblur=function(){var e=d.value;e.trim()?checkReg.email(e)?(u.style.display="block",y.innerHTML="",isok4=!0):(d.style.background="#fffddf",d.style.borderColor="#800000",y.innerHTML="请您输入正确邮箱地址",y.style.color="#ff0000",u.style.display="none"):(d.style.background="#fffddf",d.style.borderColor="#800000",y.innerHTML="请您输入邮箱地址",y.style.color="#ff0000",u.style.display="none")};var g=["0","1","2","3","4","5","6","7","8","9","Q","A","Z","W","S","X","E","D","C","R","F","V","T","G","B","Y","H","N","U","J","M","I","K","O","L","P"];function b(e,o){var n="";for(i=0;i<=o;i++){n+=e[parseInt(35*Math.random())]}return n}var p=getid("randomnum"),k=getid("randomnum_msg"),h=!1;p.innerHTML=b(g,3);var m=getid("random_text");m.onfocus=function(){m.style.background="#eaf5ff",m.style.borderColor="#2648c4",k.innerHTML="请输入验证码",k.style.color="#666"},m.onblur=function(){var e=m.value.toLowerCase(),o=p.innerHTML.toLowerCase();e.trim()?e==o?(k.innerHTML="验证码正确",h=!0):(m.style.background="#fffddf",m.style.borderColor="#800000",k.innerHTML="验证码错误",k.style.color="#ff0000",p.innerHTML=b(g,3)):(m.style.background="#fffddf",m.style.borderColor="#800000",k.innerHTML="请您输入验证码",k.style.color="#ff0000")},getid("zhucebtn").onclick=function(){if(isok1&&isok2&&isok3&&isok4&&h){var o=n.value,e=t.value;ajax("post","../api/reg.php","username="+o+"&password="+e,function(e){1==e&&($.cookie("name",o,{expires:7,path:"/"}),window.location.href="../index.html")})}}};